<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
<meta charset="UTF-8">
<title>Productos</title>
<link rel="stylesheet" th:href="@{/css/estilos.css}">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>



<header th:replace="~{/layouts/header :: header}"></header>



<body id=cuerpoproducto>
<div class="container">
<h1 id="lista" class="m-5 color-new-contactos">Lista de productos</h1>
</div>



	
				<form class="form-inline d-flex mb-5" th:action="@{/productos/listado}">
					<div class="form-group mb-2">
						<label> Filtrar: </label>
					</div>
					<div class="form-group mx-sm-3 mb-2">
					     <select class="form-control" id="categoriaP" name="categoriaP" required>
      						<option value="">Seleccione una categoría</option>
      						<option value="Juguete">Juguete</option>
      						<option value="Mueble">Mueble</option>
      						<option value="Mascota">Mascota</option>
      						<option value="Comida">Comida</option>
    					</select>		
					</div>
						<input type="submit" class="btn btn-primary mb-2" value="Buscar">
							&nbsp;&nbsp;
						<button type="button" class="btn btn-secondary mb-2" onclick="limpiarFiltro()">Limpiar</button>
				</form>

 <a id="agregaprodu" th:href="@{/productos/nuevo}" class="cons_button">Agregar Productos</a>
<div id="contenido_producto" class="container">
   <div class="table-responsive">
     <table class="table table-hover ">
      <thead>
        <tr>

        <th>Nombre</th>

        <th>Id</th>

        <th>Precio</th>

        <th>Categoría</th>

        <th>Descuento</th>

        <th>Precio con Descuento</th>
        
        <th>Acciones</th>

    </tr>
      </thead>
      <tbody>       
        <tr th:each="Produ : ${productos}">

        <td th:text="${Produ.nombre}"></td>

   		 <td th:text="${Produ.id}"></td> 

        <td th:text="${Produ.precio}"></td>

        <td th:text="${Produ.categoria}"></td>

        <td th:text="${Produ.descuento}"></td>

        <td th:text="${Produ.calcularDescuento()}"></td>
        
     
        <td class="custom-button">        
 		<a class="cons_button" th:href="@{/productos/modificar/}+${Produ.id}">Editar</a>
		<a class="cons_button" th:href="@{/productos/eliminar/}+${Produ.id}">Eliminar</a>     
        </td>
                    
    </tr>
  
 

      </tbody>
    </table>
   </div>
  
  </div>


			
				<footer th:replace="~{layouts/footer :: footer}"></footer>
			
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

	<script type="text/javascript">
    		function limpiarFiltro() {
 			     document.getElementById("categoriaP").value = "";
    			 document.querySelector("form").submit();
  			  }
  </script>
  

</body>
</html>
